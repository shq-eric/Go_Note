---
title: 2019-5-5 服务端知识点要求
tags: 知识点梳理 , 服务端 , 点触
grammar_cjkRuby: true
---


1.[数据库相关](#数据库)
- [事务4个特性（ACID）和4个隔离级别（线上环境是Read Committed）](#事务)
	- [ACID](#隔离级别)
	- [并发下事务会发生的问题](#并发下事务会发生的问题)
	- [隔离级别](#隔离级别)
	- [相关命令](#相关命令)
- [Btree、B+tree](#B树、B+树)
- [聚集索引、非聚集索引](#索引的分类)
- [innodb、myisam区别](#innodb、myisam区别)
- [基本的数据库性能分析方式：explain、慢查询日志](#性能分析)
	- [explain使用分析](#explain使用分析)
	- [慢查询日志](#慢查询日志)
- 掌握基本的sql语法


2.redis
- 基本的查询和操作命令
- 了解项目中抢占redis锁的原理

3.计网
- 三次握手、四次挥手
- 熟悉http协议
- 了解主流通信协议protobuf 并掌握其消息编/解码原理

4.数据结构
- 数组、栈、队列
- 哈希表
- 二叉堆（小根堆、大根堆）
- 布隆过滤器
- ac自动机（了解即可）
- 位图
- 红黑树（了解即可）
- 并查集

5.go语言
- 掌握协程的使用方法
- gc算法
- xorm的基本操作

6.性能优化
- 掌握Kibana日志基本检索方法与图表统计方法
- 了解Kibana上的Backlog耗时含义
- 掌握pprof的使用方法
- 掌握go-torch的使用方法

7.算法
- 排序算法及复杂度
- 了解基本的对称加密，非对称加密算法
- 了解如何实现最简单的哈希算法
- 游戏aoi算法-九宫格、十字链表、灯塔

8.操作系统
 - linux命令


  

### 数据库
 #### 事务
 ___

 ###### ACID
 - **atomicity原子性**：即不可分割，事务要么全部被执行，要么全部不执行。如果事务的所有子事务全部提交成功，则所有的数据库操作被提交，数据库状态发生变化；如果有子事务失败，则其他子事务的数据库操作被回滚，即数据库回到事务执行前的状态，不会发生状态转换
 - **consistency一致性**：事务的执行使得数据库从一种正确状态转换成另外一种正确状态
 - **isolation隔离性**：在事务正确提交之前，不允许把事务对该数据的改变提供给任何其他事务，即在事务正确提交之前，它可能的结果不应该显示给其他事务
 - **durability持久性**：事务正确提交之后，其结果将永远保存在数据库之中，即使在事务提交之后有了其他故障，事务的处理结果也会得到保存

###### 并发下事务会发生的问题
- **脏读**：==事务A读到了事务B还没有提交的数据 #F44336==。如银行取钱，事务A开启事务，此时切换到事务B，事务B开启事务—>取走100元，此时切换回事务A，事务A读取的肯定是数据库里面的原始数据，因为事务B取走了100块钱，并没有提交，数据库里面的账务余额肯定还是原始余额。
- **不可重复读**：==在一个事务里面读取了两次某个数据 ，读出来的数据不一致 #F44336==。以银行取钱为例，事务A开启事务—>查出银行卡余额为1000元，此时切换到事务B，事务B开启事务—>事务B取走100元—>提交，数据库里面余额变为900元，此时切换回事务A，事务A再查一次查出账户余额为900元，这样对事务A而言，在同一个事务内两次读取账户余额数据不一致。
- **幻读**：==在一个事务里面的操作中发现了未被操作的数据 #F44336==。如学生信息，事务A开启事务—>修改所有学生当天签到状况为false，此时切换到事务B，事务B开启事务—>事务B插入了一条学生数据，此时切换回事务A，事务A提交的时候发现了一条自己没有修改过的数据，这就是幻读，就好像发生了幻觉一样。幻读出现的前提是并发的事务中有事务发生了插入、删除操作。
 
###### 隔离级别
- **READ_UNCOMMITTED**：即能够读取到没有被提交的数据
- **READ COMMITTED**：即能够读到那些已经提交的数据
- **REPEATABLE READ**：类似"select * from XXX for update"，读取了一条数据，这个事务不结束，别的事务就不可以改这条记录。
- **SERIALIZABLE**：串行化，不管多少事务，挨个运行完一个事务的所有子事务之后才可以执行另外一个事务里面的所有子事务。

| 隔离级           | 脏读可能性 | 不可重复读可能性 | 幻读可能性 | 加读锁 |
| ---------------- | ---------- | ---------------- | ---------- | ------ |
| READ UNCOMMITTED | Y          | Y                | Y          | N      |
| READ COMMITTED   | N          | Y                | Y          | N      |
| REPEATABLE READ  | N          | N                | Y          | N      |
| SERIALIZABLE     | N          | N                | N          | Y      |

###### 相关命令
- 查看事务隔离级别： select @@tx_isolation;
- 修改当前会话事务隔离级别：SET session TRANSACTION ISOLATION LEVEL Serializable;
- 修改全局事务隔离级别：SET global TRANSACTION ISOLATION LEVEL Serializable;



#### B树、B+树
___
[数据结构及算法原理](http://blog.jobbole.com/24006/)

#### 索引的分类
___
![聚集索引和非聚集索引](https://img-blog.csdn.net/20161102111454921?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center)
[分类补充](https://www.cnblogs.com/xiangyangzhu/p/index.html)


#### innodb、myisam区别
___
基本的差别：MyISAM类型**不支持事务处理等高级处理**。MyISAM类型的表强调的是**性能**，其执行数度比InnoDB类型更快，而InnoDB提供事务支持以及外部键，行级锁等高级数据库功能。

#### 性能分析
___
###### explain使用分析
[explain详解](https://segmentfault.com/a/1190000008131735)
[补充](https://dev.mysql.com/doc/refman/5.7/en/explain-output.html)
###### 慢查询日志
[通用日志与慢日志](https://blog.csdn.net/timchen525/article/details/75268151)
[补充](https://dev.mysql.com/doc/refman/5.7/en/slow-query-log.html)

